#encoding:utf-8
#==============================================================================
# ■ Spriteset_SongList
#------------------------------------------------------------------------------
# 　显示选曲界面的精灵组。
#==============================================================================

require 'sprite/sprite_song_list'

class Spriteset_SongList
  #--------------------------------------------------------------------------
  # ● 初始化对象
  #--------------------------------------------------------------------------
  def initialize
    create_viewports
    create_background
    create_songlist
  end
  #--------------------------------------------------------------------------
  # ● 更新
  #--------------------------------------------------------------------------
  def update
    update_songlist
  end
  #--------------------------------------------------------------------------
  # ● 释放
  #--------------------------------------------------------------------------
  def dispose
    dispose_background
    dispose_songlist
    dispose_viewports
  end
  #--------------------------------------------------------------------------
  private
  #--------------------------------------------------------------------------
  # ● 创建背景
  #--------------------------------------------------------------------------
  def create_background
    @background = Sprite.new(@viewport1)
    @background.bitmap = Bitmap.new('Skin/songselectbg')
  end
  #--------------------------------------------------------------------------
  # ● 生成显示端口
  #--------------------------------------------------------------------------
  def create_viewports
    @viewport1 = Viewport.new
    @viewport2 = Viewport.new
    @viewport2.z = 50
  end
  #--------------------------------------------------------------------------
  # ● 创建歌曲列表
  #--------------------------------------------------------------------------
  def create_songlist
    @songlist = Sprite_SongList.new(@viewport2)
  end
  #--------------------------------------------------------------------------
  # ● 更新歌曲列表
  #--------------------------------------------------------------------------
  def update_songlist
    @songlist.update
  end
  #--------------------------------------------------------------------------
  # ● 释放背景
  #--------------------------------------------------------------------------
  def dispose_background
    @background.bitmap.dispose
    @background.dispose
  end
  #--------------------------------------------------------------------------
  # ● 释放歌曲列表
  #--------------------------------------------------------------------------
  def dispose_songlist
    @songlist.dispose
  end
  #--------------------------------------------------------------------------
  # ● 释放显示端口
  #--------------------------------------------------------------------------
  def dispose_viewports
    @viewport1.dispose
    @viewport2.dispose
  end
end